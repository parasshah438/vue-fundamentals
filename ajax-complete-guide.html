<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX Complete Guide - Master Asynchronous JavaScript</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Navigation */
        .nav-toggle {
            display: none;
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            border-radius: 5px;
            font-size: 1.2rem;
        }

        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 300px;
            height: 100vh;
            background: #2c3e50;
            color: white;
            overflow-y: auto;
            z-index: 1000;
            transform: translateX(-300px);
            transition: transform 0.3s ease;
            padding-top: 80px;
        }

        .sidebar.active {
            transform: translateX(0);
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar li {
            border-bottom: 1px solid #34495e;
        }

        .sidebar a {
            display: block;
            color: white;
            text-decoration: none;
            padding: 15px 20px;
            transition: background 0.3s;
            font-size: 0.9rem;
        }

        .sidebar a:hover {
            background: #34495e;
            padding-left: 30px;
        }

        .sidebar a.active {
            background: #ff6b6b;
            border-left: 4px solid #ff8e53;
        }

        /* Main Content */
        .main-content {
            margin-left: 0;
            padding: 2rem;
            transition: margin-left 0.3s ease;
        }

        .main-content.shifted {
            margin-left: 300px;
        }

        .section {
            margin-bottom: 3rem;
            scroll-margin-top: 100px;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid #ff6b6b;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.5rem;
            margin: 1.5rem 0 1rem 0;
            padding-left: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .section h4 {
            color: #555;
            font-size: 1.2rem;
            margin: 1rem 0 0.5rem 0;
        }

        /* Code Blocks */
        pre {
            background: #2d3748 !important;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }

        code {
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.9rem;
        }

        .inline-code {
            background: #f1f5f9;
            color: #e53e3e;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* Feature Cards */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .feature-card h4 {
            color: #ff6b6b;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Request Method Cards */
        .method-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .method-card.get { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .method-card.post { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .method-card.put { background: linear-gradient(135deg, #c2e9fb 0%, #a1c4fd 100%); }
        .method-card.delete { background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); }
        .method-card.patch { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }

        /* Lists */
        ul, ol {
            padding-left: 2rem;
            margin: 1rem 0;
        }

        li {
            margin: 0.5rem 0;
        }

        /* Badges */
        .badge {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 2px;
        }

        .badge.new { background: #4ecdc4; }
        .badge.advanced { background: #667eea; }
        .badge.important { background: #feca57; color: #333; }
        .badge.deprecated { background: #95a5a6; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: #ff6b6b;
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: #f8fafc;
        }

        /* Alerts */
        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid;
        }

        .alert.info {
            background: #e3f2fd;
            border-color: #2196f3;
            color: #1565c0;
        }

        .alert.warning {
            background: #fff3e0;
            border-color: #ff9800;
            color: #ef6c00;
        }

        .alert.success {
            background: #e8f5e8;
            border-color: #4CAF50;
            color: #2e7d32;
        }

        .alert.danger {
            background: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }

        /* Progress Bar */
        .progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: rgba(255, 107, 107, 0.3);
            z-index: 1002;
        }

        .progress-bar {
            height: 100%;
            background: #ff6b6b;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #ff6b6b;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: #ff8e53;
            transform: translateY(-2px);
        }

        /* Search */
        .search-container {
            padding: 20px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .search-box {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-box:focus {
            border-color: #ff6b6b;
        }

        /* Live Demo */
        .demo-container {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .demo-result {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            min-height: 100px;
            font-family: monospace;
            white-space: pre-wrap;
        }

        .demo-controls {
            display: flex;
            gap: 10px;
            margin: 1rem 0;
        }

        .demo-button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .demo-button:hover {
            background: #ff8e53;
        }

        .demo-button:disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-toggle {
                display: block;
            }

            .main-content {
                padding: 1rem;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .section h2 {
                font-size: 1.5rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            pre {
                font-size: 0.8rem;
            }
        }

        /* Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeInUp 0.6s ease;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .loading {
            animation: pulse 1.5s infinite;
        }

        /* Copy Button */
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 5px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .copy-btn:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress">
        <div class="progress-bar"></div>
    </div>

    <!-- Navigation Toggle -->
    <button class="nav-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="search-container">
            <input type="text" class="search-box" placeholder="Search topics..." onkeyup="searchContent(this.value)">
        </div>
        <ul>
            <li><a href="#introduction" onclick="closeSidebar()"><i class="fas fa-info-circle"></i> What is AJAX?</a></li>
            <li><a href="#definition" onclick="closeSidebar()"><i class="fas fa-book"></i> Definition & Features</a></li>
            <li><a href="#how-works" onclick="closeSidebar()"><i class="fas fa-cogs"></i> How AJAX Works</a></li>
            <li><a href="#xmlhttprequest" onclick="closeSidebar()"><i class="fas fa-exchange-alt"></i> XMLHttpRequest</a></li>
            <li><a href="#get-request" onclick="closeSidebar()"><i class="fas fa-download"></i> GET Request</a></li>
            <li><a href="#post-request" onclick="closeSidebar()"><i class="fas fa-upload"></i> POST Request</a></li>
            <li><a href="#put-request" onclick="closeSidebar()"><i class="fas fa-edit"></i> PUT Request</a></li>
            <li><a href="#delete-request" onclick="closeSidebar()"><i class="fas fa-trash"></i> DELETE Request</a></li>
            <li><a href="#other-requests" onclick="closeSidebar()"><i class="fas fa-ellipsis-h"></i> Other Requests</a></li>
            <li><a href="#fetch-api" onclick="closeSidebar()"><i class="fas fa-rocket"></i> Fetch API</a></li>
            <li><a href="#stream-api" onclick="closeSidebar()"><i class="fas fa-stream"></i> Stream API</a></li>
            <li><a href="#database-ops" onclick="closeSidebar()"><i class="fas fa-database"></i> Database Operations</a></li>
            <li><a href="#ajax-html" onclick="closeSidebar()"><i class="fas fa-code"></i> AJAX with HTML</a></li>
            <li><a href="#ajax-json" onclick="closeSidebar()"><i class="fas fa-file-code"></i> AJAX with JSON</a></li>
            <li><a href="#ajax-xml" onclick="closeSidebar()"><i class="fas fa-file-alt"></i> AJAX with XML</a></li>
            <li><a href="#ajax-traversing" onclick="closeSidebar()"><i class="fas fa-sitemap"></i> AJAX Traversing</a></li>
            <li><a href="#ajax-methods" onclick="closeSidebar()"><i class="fas fa-tools"></i> All AJAX Methods</a></li>
            <li><a href="#ajax-effects" onclick="closeSidebar()"><i class="fas fa-magic"></i> AJAX Effects</a></li>
            <li><a href="#error-handling" onclick="closeSidebar()"><i class="fas fa-exclamation-triangle"></i> Error Handling</a></li>
            <li><a href="#best-practices" onclick="closeSidebar()"><i class="fas fa-star"></i> Best Practices</a></li>
            <li><a href="#plugins" onclick="closeSidebar()"><i class="fas fa-plug"></i> Plugins & Libraries</a></li>
            <li><a href="#validation" onclick="closeSidebar()"><i class="fas fa-check-circle"></i> AJAX Validation</a></li>
            <li><a href="#use-cases" onclick="closeSidebar()"><i class="fas fa-lightbulb"></i> Use Cases</a></li>
            <li><a href="#examples" onclick="closeSidebar()"><i class="fas fa-flask"></i> Live Examples</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-sync-alt"></i> AJAX Complete Guide</h1>
            <p>Master Asynchronous JavaScript And XML - From Basics to Advanced</p>
        </header>

        <!-- Main Content -->
        <main class="main-content" id="main-content">
            
            <!-- Introduction -->
            <section class="section" id="introduction">
                <h2><i class="fas fa-info-circle"></i> What is AJAX?</h2>
                <p><strong>AJAX (Asynchronous JavaScript And XML)</strong> is a revolutionary web development technique that enables web pages to communicate with servers and update content dynamically without requiring a full page reload.</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><i class="fas fa-bolt"></i> Asynchronous Operations</h4>
                        <p>Send and receive data in the background without blocking the user interface</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-sync"></i> Dynamic Updates</h4>
                        <p>Update parts of a web page without reloading the entire page</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-tachometer-alt"></i> Better Performance</h4>
                        <p>Reduce bandwidth usage and improve user experience</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-desktop"></i> Rich Applications</h4>
                        <p>Create desktop-like web applications with smooth interactions</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-code"></i> Multiple Formats</h4>
                        <p>Work with JSON, XML, HTML, and plain text</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-globe"></i> Cross-Browser</h4>
                        <p>Works in all modern browsers and mobile devices</p>
                    </div>
                </div>

                <div class="alert info">
                    <strong>Note:</strong> Despite its name containing "XML", AJAX commonly works with JSON, which is lighter and easier to work with in JavaScript.
                </div>
            </section>

            <!-- Definition & Features -->
            <section class="section" id="definition">
                <h2><i class="fas fa-book"></i> Definition & Features</h2>
                
                <h3>Definition</h3>
                <p>AJAX is not a programming language but a combination of:</p>
                <ul>
                    <li><strong>Browser built-in XMLHttpRequest object</strong> (to request data from a web server)</li>
                    <li><strong>JavaScript and HTML DOM</strong> (to display or use the data)</li>
                    <li><strong>CSS</strong> (to style the data)</li>
                    <li><strong>JSON or XML</strong> (often used as the format for transferring data)</li>
                </ul>

                <h3>Key Features</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Description</th>
                            <th>Benefit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Asynchronous Communication</td>
                            <td>Doesn't block user interaction</td>
                            <td>Better user experience</td>
                        </tr>
                        <tr>
                            <td>Partial Page Updates</td>
                            <td>Update specific parts of the page</td>
                            <td>Faster updates, less bandwidth</td>
                        </tr>
                        <tr>
                            <td>Server Communication</td>
                            <td>Exchange data with server behind the scenes</td>
                            <td>Real-time data updates</td>
                        </tr>
                        <tr>
                            <td>Multiple Data Formats</td>
                            <td>Support for JSON, XML, HTML, Text</td>
                            <td>Flexibility in data handling</td>
                        </tr>
                        <tr>
                            <td>Event-Driven</td>
                            <td>Triggered by user actions or timers</td>
                            <td>Interactive applications</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Where to Use AJAX</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><i class="fas fa-search"></i> Live Search</h4>
                        <p>Search suggestions as you type (like Google Search)</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-comments"></i> Chat Applications</h4>
                        <p>Real-time messaging without page refresh</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-shopping-cart"></i> Shopping Carts</h4>
                        <p>Add/remove items without page reload</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-check-square"></i> Form Validation</h4>
                        <p>Check username availability instantly</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-poll"></i> Live Polls</h4>
                        <p>Update results in real-time</p>
                    </div>
                    <div class="feature-card">
                        <h4><i class="fas fa-chart-line"></i> Dashboards</h4>
                        <p>Auto-refresh data and charts</p>
                    </div>
                </div>
            </section>

            <!-- How AJAX Works -->
            <section class="section" id="how-works">
                <h2><i class="fas fa-cogs"></i> Understanding How AJAX Works</h2>
                
                <h3>AJAX Workflow</h3>
                <ol>
                    <li><strong>Event Occurs:</strong> User clicks a button, types in a field, or page loads</li>
                    <li><strong>Create Request:</strong> JavaScript creates an XMLHttpRequest object</li>
                    <li><strong>Configure Request:</strong> Set the request method, URL, and parameters</li>
                    <li><strong>Send Request:</strong> Send the request to the server</li>
                    <li><strong>Server Processing:</strong> Server processes the request and creates a response</li>
                    <li><strong>Receive Response:</strong> JavaScript receives the response</li>
                    <li><strong>Process Data:</strong> JavaScript processes the returned data</li>
                    <li><strong>Update Page:</strong> JavaScript updates the page content</li>
                </ol>

                <h3>Visual Representation</h3>
                <pre><code class="language-javascript">// Step-by-step AJAX workflow
// 1. User triggers an event
document.getElementById('loadButton').addEventListener('click', function() {
    
    // 2. Create XMLHttpRequest object
    const xhr = new XMLHttpRequest();
    
    // 3. Configure the request
    xhr.open('GET', 'https://api.example.com/data', true);
    
    // 4. Set up the response handler
    xhr.onreadystatechange = function() {
        // 5. Check if request is complete
        if (xhr.readyState === 4 && xhr.status === 200) {
            // 6. Process the response
            const data = JSON.parse(xhr.responseText);
            
            // 7. Update the page
            document.getElementById('result').innerHTML = data.content;
        }
    };
    
    // 8. Send the request
    xhr.send();
});</code></pre>

                <div class="alert success">
                    <strong>Key Concept:</strong> AJAX allows web applications to send and retrieve data from a server asynchronously without interfering with the display and behavior of the existing page.
                </div>
            </section>

            <!-- XMLHttpRequest -->
            <section class="section" id="xmlhttprequest">
                <h2><i class="fas fa-exchange-alt"></i> XMLHttpRequest Object</h2>
                
                <h3>Creating XMLHttpRequest</h3>
                <pre><code class="language-javascript">// Modern browsers
const xhr = new XMLHttpRequest();

// Old Internet Explorer (5, 6)
let xhr;
if (window.XMLHttpRequest) {
    xhr = new XMLHttpRequest();
} else {
    // IE5, IE6
    xhr = new ActiveXObject("Microsoft.XMLHTTP");
}</code></pre>

                <h3>XMLHttpRequest Properties</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Property</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>readyState</code></td>
                            <td>Holds the status of the XMLHttpRequest (0-4)</td>
                        </tr>
                        <tr>
                            <td><code>status</code></td>
                            <td>HTTP status code (200, 404, etc.)</td>
                        </tr>
                        <tr>
                            <td><code>statusText</code></td>
                            <td>HTTP status text ("OK", "Not Found", etc.)</td>
                        </tr>
                        <tr>
                            <td><code>responseText</code></td>
                            <td>Response data as string</td>
                        </tr>
                        <tr>
                            <td><code>responseXML</code></td>
                            <td>Response data as XML</td>
                        </tr>
                        <tr>
                            <td><code>responseType</code></td>
                            <td>Type of response expected</td>
                        </tr>
                    </tbody>
                </table>

                <h3>XMLHttpRequest Methods</h3>
                <pre><code class="language-javascript">const xhr = new XMLHttpRequest();

// Configure the request
xhr.open(method, url, async, user, password);

// Set request headers
xhr.setRequestHeader('Content-Type', 'application/json');

// Send the request
xhr.send(data);

// Abort the request
xhr.abort();

// Get response header
const contentType = xhr.getResponseHeader('Content-Type');

// Get all response headers
const headers = xhr.getAllResponseHeaders();</code></pre>

                <h3>ReadyState Values</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Value</th>
                            <th>State</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0</td>
                            <td>UNSENT</td>
                            <td>Request not initialized</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>OPENED</td>
                            <td>Server connection established</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>HEADERS_RECEIVED</td>
                            <td>Request received</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>LOADING</td>
                            <td>Processing request</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>DONE</td>
                            <td>Request finished and response ready</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- GET Request -->
            <section class="section" id="get-request">
                <h2><i class="fas fa-download"></i> GET Request</h2>
                <p>GET requests are used to <strong>retrieve data</strong> from a server. Data is sent in the URL.</p>
                
                <div class="method-card get">
                    <h3>Basic GET Request</h3>
                    <pre><code class="language-javascript">// Simple GET request
const xhr = new XMLHttpRequest();
xhr.open('GET', 'https://jsonplaceholder.typicode.com/users/1', true);

xhr.onload = function() {
    if (xhr.status === 200) {
        const user = JSON.parse(xhr.responseText);
        console.log('User:', user);
    }
};

xhr.send();</code></pre>
                </div>

                <div class="method-card get">
                    <h3>GET with Query Parameters</h3>
                    <pre><code class="language-javascript">// GET request with parameters
function getUsersByRole(role, limit) {
    const xhr = new XMLHttpRequest();
    const url = `https://api.example.com/users?role=${role}&limit=${limit}`;
    
    xhr.open('GET', url, true);
    
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                const users = JSON.parse(xhr.responseText);
                displayUsers(users);
            } else {
                console.error('Error:', xhr.status);
            }
        }
    };
    
    xhr.send();
}

// Usage
getUsersByRole('admin', 10);</code></pre>
                </div>

                <div class="method-card get">
                    <h3>GET with Headers</h3>
                    <pre><code class="language-javascript">// GET request with custom headers
const xhr = new XMLHttpRequest();
xhr.open('GET', 'https://api.example.com/protected/data', true);

// Set authorization header
xhr.setRequestHeader('Authorization', 'Bearer YOUR_TOKEN_HERE');
xhr.setRequestHeader('Accept', 'application/json');

xhr.onload = function() {
    if (xhr.status === 200) {
        const data = JSON.parse(xhr.responseText);
        processData(data);
    } else if (xhr.status === 401) {
        console.error('Unauthorized');
    }
};

xhr.send();</code></pre>
                </div>

                <div class="demo-container">
                    <h4>Live GET Request Demo</h4>
                    <div class="demo-controls">
                        <button class="demo-button" onclick="demoGetRequest()">Fetch User Data</button>
                        <button class="demo-button" onclick="clearDemo('get-result')">Clear</button>
                    </div>
                    <div id="get-result" class="demo-result">Click "Fetch User Data" to see the result...</div>
                </div>
            </section>

            <!-- POST Request -->
            <section class="section" id="post-request">
                <h2><i class="fas fa-upload"></i> POST Request</h2>
                <p>POST requests are used to <strong>send data to a server</strong> to create a new resource.</p>
                
                <div class="method-card post">
                    <h3>Basic POST Request</h3>
                    <pre><code class="language-javascript">// POST request with JSON data
const xhr = new XMLHttpRequest();
xhr.open('POST', 'https://jsonplaceholder.typicode.com/posts', true);
xhr.setRequestHeader('Content-Type', 'application/json');

const data = {
    title: 'My New Post',
    body: 'This is the post content',
    userId: 1
};

xhr.onload = function() {
    if (xhr.status === 201) {
        const response = JSON.parse(xhr.responseText);
        console.log('Created:', response);
    }
};

xhr.send(JSON.stringify(data));</code></pre>
                </div>

                <div class="method-card post">
                    <h3>POST with Form Data</h3>
                    <pre><code class="language-javascript">// POST request with FormData
function submitForm() {
    const xhr = new XMLHttpRequest();
    const formData = new FormData();
    
    formData.append('username', 'john_doe');
    formData.append('email', 'john@example.com');
    formData.append('age', 25);
    formData.append('avatar', document.getElementById('fileInput').files[0]);
    
    xhr.open('POST', 'https://api.example.com/users', true);
    
    xhr.upload.onprogress = function(e) {
        if (e.lengthComputable) {
            const percentComplete = (e.loaded / e.total) * 100;
            console.log('Upload Progress:', percentComplete + '%');
        }
    };
    
    xhr.onload = function() {
        if (xhr.status === 200) {
            const response = JSON.parse(xhr.responseText);
            console.log('User created:', response);
        }
    };
    
    xhr.send(formData);
}</code></pre>
                </div>

                <div class="method-card post">
                    <h3>POST with URL Encoded Data</h3>
                    <pre><code class="language-javascript">// POST with application/x-www-form-urlencoded
const xhr = new XMLHttpRequest();
xhr.open('POST', 'https://api.example.com/login', true);
xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

const params = 'username=admin&password=secret123';

xhr.onload = function() {
    if (xhr.status === 200) {
        const response = JSON.parse(xhr.responseText);
        localStorage.setItem('token', response.token);
        console.log('Login successful');
    }
};

xhr.send(params);</code></pre>
                </div>

                <div class="demo-container">
                    <h4>Live POST Request Demo</h4>
                    <input type="text" id="post-title" placeholder="Enter title..." style="padding: 8px; margin: 5px;">
                    <input type="text" id="post-body" placeholder="Enter body..." style="padding: 8px; margin: 5px;">
                    <div class="demo-controls">
                        <button class="demo-button" onclick="demoPostRequest()">Create Post</button>
                        <button class="demo-button" onclick="clearDemo('post-result')">Clear</button>
                    </div>
                    <div id="post-result" class="demo-result">Enter data and click "Create Post"...</div>
                </div>
            </section>

            <!-- PUT Request -->
            <section class="section" id="put-request">
                <h2><i class="fas fa-edit"></i> PUT Request</h2>
                <p>PUT requests are used to <strong>update an existing resource</strong> on the server.</p>
                
                <div class="method-card put">
                    <h3>Basic PUT Request</h3>
                    <pre><code class="language-javascript">// PUT request to update a resource
const xhr = new XMLHttpRequest();
const userId = 1;
xhr.open('PUT', `https://jsonplaceholder.typicode.com/posts/${userId}`, true);
xhr.setRequestHeader('Content-Type', 'application/json');

const updatedData = {
    id: userId,
    title: 'Updated Title',
    body: 'Updated content',
    userId: 1
};

xhr.onload = function() {
    if (xhr.status === 200) {
        const response = JSON.parse(xhr.responseText);
        console.log('Updated:', response);
    }
};

xhr.send(JSON.stringify(updatedData));</code></pre>
                </div>

                <div class="method-card put">
                    <h3>Partial Update with PATCH</h3>
                    <pre><code class="language-javascript">// PATCH request for partial update
function updateUserField(userId, field, value) {
    const xhr = new XMLHttpRequest();
    xhr.open('PATCH', `https://api.example.com/users/${userId}`, true);
    xhr.setRequestHeader('Content-Type', 'application/json');
    
    const patchData = {
        [field]: value
    };
    
    xhr.onload = function() {
        if (xhr.status === 200) {
            const response = JSON.parse(xhr.responseText);
            console.log('Field updated:', response);
        } else {
            console.error('Update failed:', xhr.status);
        }
    };
    
    xhr.send(JSON.stringify(patchData));
}

// Usage
updateUserField(123, 'email', 'newemail@example.com');</code></pre>
                </div>
            </section>

            <!-- DELETE Request -->
            <section class="section" id="delete-request">
                <h2><i class="fas fa-trash"></i> DELETE Request</h2>
                <p>DELETE requests are used to <strong>remove a resource</strong> from the server.</p>
                
                <div class="method-card delete">
                    <h3>Basic DELETE Request</h3>
                    <pre><code class="language-javascript">// DELETE request
function deletePost(postId) {
    const xhr = new XMLHttpRequest();
    xhr.open('DELETE', `https://jsonplaceholder.typicode.com/posts/${postId}`, true);
    
    xhr.onload = function() {
        if (xhr.status === 200 || xhr.status === 204) {
            console.log('Post deleted successfully');
            removeFromUI(postId);
        } else {
            console.error('Delete failed:', xhr.status);
        }
    };
    
    xhr.send();
}

// Usage with confirmation
function confirmAndDelete(postId) {
    if (confirm('Are you sure you want to delete this post?')) {
        deletePost(postId);
    }
}</code></pre>
                </div>

                <div class="method-card delete">
                    <h3>DELETE with Authorization</h3>
                    <pre><code class="language-javascript">// DELETE with authentication
function deleteUserAccount(userId, token) {
    const xhr = new XMLHttpRequest();
    xhr.open('DELETE', `https://api.example.com/users/${userId}`, true);
    xhr.setRequestHeader('Authorization', `Bearer ${token}`);
    xhr.setRequestHeader('Content-Type', 'application/json');
    
    xhr.onload = function() {
        if (xhr.status === 204) {
            console.log('Account deleted');
            // Redirect to login
            window.location.href = '/login';
        } else if (xhr.status === 403) {
            console.error('Permission denied');
        }
    };
    
    xhr.send();
}</code></pre>
                </div>
            </section>

            <!-- Other Requests -->
            <section class="section" id="other-requests">
                <h2><i class="fas fa-ellipsis-h"></i> Other HTTP Methods</h2>
                
                <div class="method-card patch">
                    <h3>HEAD Request</h3>
                    <pre><code class="language-javascript">// HEAD request - Get headers only
const xhr = new XMLHttpRequest();
xhr.open('HEAD', 'https://api.example.com/large-file.pdf', true);

xhr.onload = function() {
    if (xhr.status === 200) {
        const fileSize = xhr.getResponseHeader('Content-Length');
        const lastModified = xhr.getResponseHeader('Last-Modified');
        console.log('File size:', fileSize, 'bytes');
        console.log('Last modified:', lastModified);
    }
};

xhr.send();</code></pre>
                </div>

                <div class="method-card patch">
                    <h3>OPTIONS Request</h3>
                    <pre><code class="language-javascript">// OPTIONS request - Check allowed methods
const xhr = new XMLHttpRequest();
xhr.open('OPTIONS', 'https://api.example.com/users', true);

xhr.onload = function() {
    if (xhr.status === 200) {
        const allowedMethods = xhr.getResponseHeader('Allow');
        const corsHeaders = xhr.getResponseHeader('Access-Control-Allow-Methods');
        console.log('Allowed methods:', allowedMethods);
        console.log('CORS methods:', corsHeaders);
    }
};

xhr.send();</code></pre>
                </div>
            </section>

            <!-- Fetch API -->
            <section class="section" id="fetch-api">
                <h2><i class="fas fa-rocket"></i> Fetch API Basics</h2>
                <p>The Fetch API provides a modern, promise-based way to make HTTP requests.</p>
                
                <h3>Basic Fetch Syntax</h3>
                <pre><code class="language-javascript">// Basic fetch
fetch('https://api.example.com/data')
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(error => console.error('Error:', error));</code></pre>

                <h3>Fetch with Different Methods</h3>
                <pre><code class="language-javascript">// GET Request
fetch('https://jsonplaceholder.typicode.com/posts/1')
    .then(response => response.json())
    .then(data => console.log(data));

// POST Request
fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        title: 'New Post',
        body: 'Post content',
        userId: 1
    })
})
.then(response => response.json())
.then(data => console.log('Created:', data));

// PUT Request
fetch('https://jsonplaceholder.typicode.com/posts/1', {
    method: 'PUT',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        id: 1,
        title: 'Updated Post',
        body: 'Updated content',
        userId: 1
    })
})
.then(response => response.json())
.then(data => console.log('Updated:', data));

// DELETE Request
fetch('https://jsonplaceholder.typicode.com/posts/1', {
    method: 'DELETE'
})
.then(response => console.log('Deleted:', response.ok));</code></pre>

                <h3>Async/Await with Fetch</h3>
                <pre><code class="language-javascript">// Using async/await
async function fetchUserData(userId) {
    try {
        const response = await fetch(`https://jsonplaceholder.typicode.com/users/${userId}`);
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const user = await response.json();
        return user;
    } catch (error) {
        console.error('Fetch error:', error);
        return null;
    }
}

// Usage
async function displayUser() {
    const user = await fetchUserData(1);
    if (user) {
        console.log('User:', user);
    }
}</code></pre>

                <h3>Advanced Fetch Options</h3>
                <pre><code class="language-javascript">// Fetch with all options
fetch('https://api.example.com/data', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer token123'
    },
    body: JSON.stringify({ key: 'value' }),
    mode: 'cors',           // cors, no-cors, same-origin
    credentials: 'include', // include, same-origin, omit
    cache: 'no-cache',      // default, no-cache, reload, force-cache, only-if-cached
    redirect: 'follow',     // manual, follow, error
    referrerPolicy: 'no-referrer' // no-referrer, origin, etc.
})
.then(response => response.json())
.then(data => console.log(data));</code></pre>

                <h3>Handling Different Response Types</h3>
                <pre><code class="language-javascript">// Text response
fetch('/api/text')
    .then(response => response.text())
    .then(text => console.log(text));

// Blob response (for files)
fetch('/api/image')
    .then(response => response.blob())
    .then(blob => {
        const img = document.createElement('img');
        img.src = URL.createObjectURL(blob);
        document.body.appendChild(img);
    });

// ArrayBuffer response
fetch('/api/binary')
    .then(response => response.arrayBuffer())
    .then(buffer => console.log(buffer));

// FormData response
fetch('/api/form')
    .then(response => response.formData())
    .then(formData => console.log(formData));</code></pre>

                <div class="alert info">
                    <strong>Fetch vs XMLHttpRequest:</strong> Fetch API is more modern, uses Promises, has cleaner syntax, but XMLHttpRequest has better browser support for older browsers and more fine-grained progress events.
                </div>
            </section>

            <!-- Stream API -->
            <section class="section" id="stream-api">
                <h2><i class="fas fa-stream"></i> Stream API Basics</h2>
                <p>The Streams API allows you to programmatically access streams of data received over the network and process them as desired.</p>
                
                <h3>Reading Stream Data</h3>
                <pre><code class="language-javascript">// Basic stream reading
fetch('https://api.example.com/large-data')
    .then(response => {
        const reader = response.body.getReader();
        
        return new ReadableStream({
            start(controller) {
                function push() {
                    reader.read().then(({ done, value }) => {
                        if (done) {
                            controller.close();
                            return;
                        }
                        
                        controller.enqueue(value);
                        push();
                    });
                }
                
                push();
            }
        });
    })
    .then(stream => new Response(stream))
    .then(response => response.text())
    .then(result => console.log(result));</code></pre>

                <h3>Processing Stream Chunks</h3>
                <pre><code class="language-javascript">// Process data as it arrives
async function fetchAndProcessStream(url) {
    const response = await fetch(url);
    const reader = response.body.getReader();
    const decoder = new TextDecoder();
    
    let result = '';
    
    while (true) {
        const { done, value } = await reader.read();
        
        if (done) break;
        
        const chunk = decoder.decode(value, { stream: true });
        result += chunk;
        
        // Process each chunk as it arrives
        console.log('Received chunk:', chunk.length, 'bytes');
    }
    
    return result;
}</code></pre>

                <h3>Progress Tracking with Streams</h3>
                <pre><code class="language-javascript">// Download with progress
async function downloadWithProgress(url, onProgress) {
    const response = await fetch(url);
    const reader = response.body.getReader();
    
    // Get total length
    const contentLength = +response.headers.get('Content-Length');
    
    let receivedLength = 0;
    let chunks = [];
    
    while (true) {
        const { done, value } = await reader.read();
        
        if (done) break;
        
        chunks.push(value);
        receivedLength += value.length;
        
        // Call progress callback
        if (onProgress) {
            onProgress(receivedLength, contentLength);
        }
    }
    
    // Combine chunks into single array
    let chunksAll = new Uint8Array(receivedLength);
    let position = 0;
    for (let chunk of chunks) {
        chunksAll.set(chunk, position);
        position += chunk.length;
    }
    
    return chunksAll;
}

// Usage
downloadWithProgress('https://example.com/large-file', (received, total) => {
    const percentage = (received / total) * 100;
    console.log(`Downloaded ${percentage.toFixed(2)}%`);
});</code></pre>
            </section>

            <!-- Database Operations -->
            <section class="section" id="database-ops">
                <h2><i class="fas fa-database"></i> Database Operations with AJAX</h2>
                
                <h3>CRUD Operations</h3>
                <pre><code class="language-javascript">// Database API wrapper
class DatabaseAPI {
    constructor(baseURL) {
        this.baseURL = baseURL;
    }
    
    // CREATE
    async create(table, data) {
        const response = await fetch(`${this.baseURL}/${table}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        return response.json();
    }
    
    // READ (single)
    async read(table, id) {
        const response = await fetch(`${this.baseURL}/${table}/${id}`);
        return response.json();
    }
    
    // READ (all with filters)
    async readAll(table, filters = {}) {
        const params = new URLSearchParams(filters);
        const response = await fetch(`${this.baseURL}/${table}?${params}`);
        return response.json();
    }
    
    // UPDATE
    async update(table, id, data) {
        const response = await fetch(`${this.baseURL}/${table}/${id}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        return response.json();
    }
    
    // DELETE
    async delete(table, id) {
        const response = await fetch(`${this.baseURL}/${table}/${id}`, {
            method: 'DELETE'
        });
        return response.ok;
    }
    
    // BATCH operations
    async batchCreate(table, dataArray) {
        const response = await fetch(`${this.baseURL}/${table}/batch`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(dataArray)
        });
        return response.json();
    }
}

// Usage
const db = new DatabaseAPI('https://api.example.com');

// Create user
db.create('users', { name: 'John', email: 'john@example.com' })
    .then(user => console.log('Created:', user));

// Get all users with filter
db.readAll('users', { role: 'admin', active: true })
    .then(users => console.log('Admin users:', users));</code></pre>

                <h3>Transaction Handling</h3>
                <pre><code class="language-javascript">// Database transaction
async function transferFunds(fromAccount, toAccount, amount) {
    const transactionId = generateTransactionId();
    
    try {
        // Start transaction
        const transaction = await fetch('/api/transactions/start', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ transactionId })
        });
        
        // Debit from account
        await fetch(`/api/accounts/${fromAccount}/debit`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ amount, transactionId })
        });
        
        // Credit to account
        await fetch(`/api/accounts/${toAccount}/credit`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ amount, transactionId })
        });
        
        // Commit transaction
        await fetch('/api/transactions/commit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ transactionId })
        });
        
        return { success: true, transactionId };
        
    } catch (error) {
        // Rollback transaction
        await fetch('/api/transactions/rollback', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ transactionId })
        });
        
        throw error;
    }
}</code></pre>
            </section>

            <!-- AJAX with HTML -->
            <section class="section" id="ajax-html">
                <h2><i class="fas fa-code"></i> AJAX with HTML</h2>
                
                <h3>Loading HTML Content</h3>
                <pre><code class="language-javascript">// Load HTML content
function loadHTMLContent(url, targetId) {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    
    xhr.onload = function() {
        if (xhr.status === 200) {
            document.getElementById(targetId).innerHTML = xhr.responseText;
            // Execute any scripts in the loaded HTML
            executeScripts(targetId);
        }
    };
    
    xhr.send();
}

// Execute scripts in loaded HTML
function executeScripts(containerId) {
    const container = document.getElementById(containerId);
    const scripts = container.getElementsByTagName('script');
    
    for (let script of scripts) {
        const newScript = document.createElement('script');
        newScript.text = script.text;
        document.head.appendChild(newScript);
    }
}</code></pre>

                <h3>Dynamic Page Loading</h3>
                <pre><code class="language-javascript">// Single Page Application router
class SimpleRouter {
    constructor() {
        this.routes = {};
        this.currentRoute = null;
        
        // Listen for back/forward buttons
        window.addEventListener('popstate', () => this.loadRoute(location.pathname));
    }
    
    addRoute(path, templateUrl) {
        this.routes[path] = templateUrl;
    }
    
    async loadRoute(path) {
        const templateUrl = this.routes[path];
        if (!templateUrl) {
            this.loadRoute('/404');
            return;
        }
        
        try {
            const response = await fetch(templateUrl);
            const html = await response.text();
            
            document.getElementById('app').innerHTML = html;
            this.currentRoute = path;
            
            // Update URL without page reload
            history.pushState(null, '', path);
        } catch (error) {
            console.error('Error loading route:', error);
        }
    }
    
    navigate(path) {
        this.loadRoute(path);
    }
}

// Usage
const router = new SimpleRouter();
router.addRoute('/', '/templates/home.html');
router.addRoute('/about', '/templates/about.html');
router.addRoute('/contact', '/templates/contact.html');
router.addRoute('/404', '/templates/404.html');

// Navigate on link click
document.addEventListener('click', (e) => {
    if (e.target.tagName === 'A' && e.target.dataset.route) {
        e.preventDefault();
        router.navigate(e.target.dataset.route);
    }
});</code></pre>
            </section>

            <!-- AJAX with JSON -->
            <section class="section" id="ajax-json">
                <h2><i class="fas fa-file-code"></i> AJAX with JSON</h2>
                
                <h3>JSON Handling</h3>
                <pre><code class="language-javascript">// Complete JSON handling example
class JSONHandler {
    // Parse JSON safely
    static safeParse(jsonString) {
        try {
            return JSON.parse(jsonString);
        } catch (error) {
            console.error('JSON Parse Error:', error);
            return null;
        }
    }
    
    // Stringify with error handling
    static safeStringify(obj, replacer = null, space = 2) {
        try {
            return JSON.stringify(obj, replacer, space);
        } catch (error) {
            console.error('JSON Stringify Error:', error);
            return null;
        }
    }
    
    // Deep clone using JSON
    static deepClone(obj) {
        return JSON.parse(JSON.stringify(obj));
    }
    
    // Validate JSON structure
    static validate(json, schema) {
        // Simple schema validation
        for (let key in schema) {
            if (!(key in json)) {
                return { valid: false, error: `Missing key: ${key}` };
            }
            if (typeof json[key] !== schema[key]) {
                return { valid: false, error: `Invalid type for ${key}` };
            }
        }
        return { valid: true };
    }
}

// Working with JSON API
async function fetchJSONData(url) {
    try {
        const response = await fetch(url);
        
        // Check if response is JSON
        const contentType = response.headers.get('content-type');
        if (!contentType || !contentType.includes('application/json')) {
            throw new TypeError('Response was not JSON');
        }
        
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error fetching JSON:', error);
        return null;
    }
}</code></pre>

                <h3>JSON-RPC Implementation</h3>
                <pre><code class="language-javascript">// JSON-RPC 2.0 client
class JsonRpcClient {
    constructor(url) {
        this.url = url;
        this.id = 0;
    }
    
    async call(method, params = []) {
        const request = {
            jsonrpc: '2.0',
            method: method,
            params: params,
            id: ++this.id
        };
        
        const response = await fetch(this.url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(request)
        });
        
        const result = await response.json();
        
        if (result.error) {
            throw new Error(result.error.message);
        }
        
        return result.result;
    }
    
    // Batch requests
    async batch(calls) {
        const requests = calls.map((call, index) => ({
            jsonrpc: '2.0',
            method: call.method,
            params: call.params || [],
            id: index + 1
        }));
        
        const response = await fetch(this.url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(requests)
        });
        
        return response.json();
    }
}

// Usage
const rpc = new JsonRpcClient('https://api.example.com/rpc');
rpc.call('getUserInfo', [123])
    .then(user => console.log('User:', user));</code></pre>
            </section>

            <!-- AJAX with XML -->
            <section class="section" id="ajax-xml">
                <h2><i class="fas fa-file-alt"></i> AJAX with XML</h2>
                
                <h3>XML Parsing</h3>
                <pre><code class="language-javascript">// XML handling with AJAX
function loadXMLDoc(url) {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    
    xhr.onload = function() {
        if (xhr.status === 200) {
            const xmlDoc = xhr.responseXML;
            parseXMLData(xmlDoc);
        }
    };
    
    xhr.send();
}

// Parse XML document
function parseXMLData(xmlDoc) {
    // Get all book elements
    const books = xmlDoc.getElementsByTagName('book');
    
    for (let book of books) {
        const title = book.getElementsByTagName('title')[0].textContent;
        const author = book.getElementsByTagName('author')[0].textContent;
        const year = book.getElementsByTagName('year')[0].textContent;
        
        console.log(`${title} by ${author} (${year})`);
    }
}

// Convert XML to JSON
function xmlToJson(xml) {
    const obj = {};
    
    if (xml.nodeType === 1) { // Element node
        // Attributes
        if (xml.attributes.length > 0) {
            obj['@attributes'] = {};
            for (let j = 0; j < xml.attributes.length; j++) {
                const attribute = xml.attributes.item(j);
                obj['@attributes'][attribute.nodeName] = attribute.nodeValue;
            }
        }
    } else if (xml.nodeType === 3) { // Text node
        obj = xml.nodeValue;
    }
    
    // Children
    if (xml.hasChildNodes()) {
        for (let i = 0; i < xml.childNodes.length; i++) {
            const item = xml.childNodes.item(i);
            const nodeName = item.nodeName;
            
            if (typeof obj[nodeName] === 'undefined') {
                obj[nodeName] = xmlToJson(item);
            } else {
                if (typeof obj[nodeName].push === 'undefined') {
                    const old = obj[nodeName];
                    obj[nodeName] = [];
                    obj[nodeName].push(old);
                }
                obj[nodeName].push(xmlToJson(item));
            }
        }
    }
    
    return obj;
}</code></pre>

                <h3>SOAP Request</h3>
                <pre><code class="language-javascript">// SOAP request example
function makeSoapRequest(url, soapAction, soapBody) {
    const xhr = new XMLHttpRequest();
    xhr.open('POST', url, true);
    
    // Set headers for SOAP
    xhr.setRequestHeader('Content-Type', 'text/xml; charset=utf-8');
    xhr.setRequestHeader('SOAPAction', soapAction);
    
    // SOAP envelope
    const soapEnvelope = `
        <?xml version="1.0" encoding="utf-8"?>
        <soap:Envelope 
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
            xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
            xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
            <soap:Body>
                ${soapBody}
            </soap:Body>
        </soap:Envelope>
    `;
    
    xhr.onload = function() {
        if (xhr.status === 200) {
            const response = xhr.responseXML;
            // Process SOAP response
            console.log('SOAP Response:', response);
        }
    };
    
    xhr.send(soapEnvelope);
}</code></pre>
            </section>

            <!-- AJAX Traversing -->
            <section class="section" id="ajax-traversing">
                <h2><i class="fas fa-sitemap"></i> AJAX Traversing</h2>
                
                <h3>Pagination with AJAX</h3>
                <pre><code class="language-javascript">// AJAX Pagination
class AjaxPagination {
    constructor(container, url, itemsPerPage = 10) {
        this.container = document.getElementById(container);
        this.url = url;
        this.itemsPerPage = itemsPerPage;
        this.currentPage = 1;
        this.totalPages = 0;
    }
    
    async loadPage(page) {
        try {
            const response = await fetch(
                `${this.url}?page=${page}&limit=${this.itemsPerPage}`
            );
            const data = await response.json();
            
            this.totalPages = Math.ceil(data.total / this.itemsPerPage);
            this.currentPage = page;
            
            this.renderItems(data.items);
            this.renderPagination();
        } catch (error) {
            console.error('Error loading page:', error);
        }
    }
    
    renderItems(items) {
        const html = items.map(item => `
            <div class="item">
                <h3>${item.title}</h3>
                <p>${item.description}</p>
            </div>
        `).join('');
        
        this.container.querySelector('.items').innerHTML = html;
    }
    
    renderPagination() {
        const pagination = this.container.querySelector('.pagination');
        let html = '';
        
        // Previous button
        if (this.currentPage > 1) {
            html += `<button onclick="pagination.loadPage(${this.currentPage - 1})">Previous</button>`;
        }
        
        // Page numbers
        for (let i = 1; i <= this.totalPages; i++) {
            const active = i === this.currentPage ? 'active' : '';
            html += `<button class="${active}" onclick="pagination.loadPage(${i})">${i}</button>`;
        }
        
        // Next button
        if (this.currentPage < this.totalPages) {
            html += `<button onclick="pagination.loadPage(${this.currentPage + 1})">Next</button>`;
        }
        
        pagination.innerHTML = html;
    }
}

// Usage
const pagination = new AjaxPagination('content', '/api/items');
pagination.loadPage(1);</code></pre>

                <h3>Infinite Scroll</h3>
                <pre><code class="language-javascript">// Infinite scroll implementation
class InfiniteScroll {
    constructor(container, url) {
        this.container = document.getElementById(container);
        this.url = url;
        this.page = 1;
        this.loading = false;
        this.hasMore = true;
        
        this.setupScrollListener();
        this.loadMore();
    }
    
    setupScrollListener() {
        window.addEventListener('scroll', () => {
            if (this.loading || !this.hasMore) return;
            
            const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
            
            // Load more when user is 100px from bottom
            if (scrollTop + clientHeight >= scrollHeight - 100) {
                this.loadMore();
            }
        });
    }
    
    async loadMore() {
        this.loading = true;
        this.showLoader();
        
        try {
            const response = await fetch(`${this.url}?page=${this.page}`);
            const data = await response.json();
            
            if (data.items.length === 0) {
                this.hasMore = false;
                this.showEndMessage();
            } else {
                this.appendItems(data.items);
                this.page++;
            }
        } catch (error) {
            console.error('Error loading more:', error);
        } finally {
            this.loading = false;
            this.hideLoader();
        }
    }
    
    appendItems(items) {
        const html = items.map(item => `
            <div class="scroll-item">
                <h3>${item.title}</h3>
                <p>${item.content}</p>
            </div>
        `).join('');
        
        this.container.insertAdjacentHTML('beforeend', html);
    }
    
    showLoader() {
        const loader = '<div class="loader">Loading...</div>';
        this.container.insertAdjacentHTML('beforeend', loader);
    }
    
    hideLoader() {
        const loader = this.container.querySelector('.loader');
        if (loader) loader.remove();
    }
    
    showEndMessage() {
        const message = '<div class="end-message">No more items to load</div>';
        this.container.insertAdjacentHTML('beforeend', message);
    }
}

// Usage
new InfiniteScroll('feed', '/api/posts');</code></pre>
            </section>

            <!-- AJAX Methods -->
            <section class="section" id="ajax-methods">
                <h2><i class="fas fa-tools"></i> All AJAX Methods - Basic to Advanced</h2>
                
                <h3>jQuery AJAX - General Structure & Complete Examples</h3>
                
                <div class="alert info">
                    <strong>Prerequisites:</strong> jQuery library must be included in your project. Add this to your HTML:
                    <code>&lt;script src="https://code.jquery.com/jquery-3.6.0.min.js">&gt;&lt;/script&gt;</code>
                </div>

                <h4>Complete jQuery AJAX Structure</h4>
                <pre><code class="language-javascript">// Full jQuery AJAX structure with all options
$.ajax({
    // Request Settings
    url: "https://api.example.com/endpoint",     // URL to send request
    type: "GET",                                 // HTTP method (GET, POST, PUT, DELETE, etc.)
    data: {},                                     // Data to send (object, string, or array)
    dataType: "json",                             // Expected response type (json, xml, html, text, script)
    contentType: "application/json",              // Content type of request
    
    // Request Headers
    headers: {
        "Authorization": "Bearer token123",
        "X-Custom-Header": "value"
    },
    
    // Authentication
    username: "user",                             // HTTP authentication username
    password: "pass",                             // HTTP authentication password
    
    // Timeout & Cache
    timeout: 5000,                                // Request timeout in milliseconds
    cache: false,                                 // Disable caching
    
    // Request Lifecycle Callbacks
    beforeSend: function(xhr) {
        // Called before request is sent
        console.log("Request starting...");
        // Modify xhr object if needed
        xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
    },
    
    success: function(response, status, xhr) {
        // Called on successful response
        console.log("Success:", response);
        console.log("Status:", status);
        console.log("XHR:", xhr);
    },
    
    error: function(xhr, status, error) {
        // Called on error
        console.error("Error Status:", status);
        console.error("Error Thrown:", error);
        console.error("Response Text:", xhr.responseText);
    },
    
    complete: function(xhr, status) {
        // Called after success or error
        console.log("Request completed with status:", status);
    },
    
    // Advanced Options
    async: true,                                  // Asynchronous request (default: true)
    processData: true,                            // Process data object into query string
    crossDomain: false,                           // Force crossDomain if same domain
    global: true,                                 // Trigger global AJAX event handlers
    traditional: false,                           // Use traditional param serialization
    
    // Progress Tracking
    xhr: function() {
        const xhr = new window.XMLHttpRequest();
        // Upload progress
        xhr.upload.addEventListener("progress", function(evt) {
            if (evt.lengthComputable) {
                const percentComplete = (evt.loaded / evt.total) * 100;
                console.log("Upload Progress:", percentComplete + "%");
            }
        }, false);
        // Download progress
        xhr.addEventListener("progress", function(evt) {
            if (evt.lengthComputable) {
                const percentComplete = (evt.loaded / evt.total) * 100;
                console.log("Download Progress:", percentComplete + "%");
            }
        }, false);
        return xhr;
    }
});</code></pre>

                <div class="method-card get">
                    <h4><i class="fas fa-download"></i> 1. AJAX GET Request Example (Retrieve Data)</h4>
                    <pre><code class="language-javascript">// Simple GET Request
$.ajax({
    type: "GET",                                          // HTTP method
    url: "https://jsonplaceholder.typicode.com/posts",   // URL for data
    success: function(response) {
        console.log("GET Response:", response);          // Handle successful response
        // Process the retrieved data
        response.forEach(function(post) {
            console.log("Post Title:", post.title);
        });
    },
    error: function(xhr, status, error) {
        console.error("GET Request Failed:", error);     // Handle error
        console.error("Status Code:", xhr.status);
        console.error("Response Text:", xhr.responseText);
    }
});

// GET Request with Query Parameters
$.ajax({
    type: "GET",
    url: "https://jsonplaceholder.typicode.com/posts",
    data: {
        userId: 1,                // Query parameters
        _limit: 5                 // Will become ?userId=1&_limit=5
    },
    success: function(response) {
        console.log("Filtered Posts:", response);
    },
    error: function(xhr, status, error) {
        console.error("Request Failed:", error);
    }
});

// GET Request with Headers
$.ajax({
    type: "GET",
    url: "https://api.example.com/protected/data",
    headers: {
        "Authorization": "Bearer YOUR_TOKEN_HERE",
        "Accept": "application/json"
    },
    success: function(response) {
        console.log("Protected Data:", response);
    },
    error: function(xhr, status, error) {
        if (xhr.status === 401) {
            console.error("Unauthorized - Please login");
        } else {
            console.error("Error:", error);
        }
    }
});

// Shorthand GET Method
$.get("https://jsonplaceholder.typicode.com/posts/1", function(data) {
    console.log("Post retrieved:", data);
})
.done(function() {
    console.log("Request completed successfully");
})
.fail(function(xhr, status, error) {
    console.error("Request failed:", error);
})
.always(function() {
    console.log("Request finished");
});</code></pre>
                </div>

                <div class="method-card post">
                    <h4><i class="fas fa-upload"></i> 2. AJAX POST Request Example (Send Data)</h4>
                    <pre><code class="language-javascript">// POST Request with JSON Data
$.ajax({
    type: "POST",                                         // HTTP method
    url: "https://jsonplaceholder.typicode.com/posts",   // URL to send data
    data: JSON.stringify({                               // Data to be sent
        title: "foo",
        body: "bar",
        userId: 1
    }),
    contentType: "application/json",                     // Ensure data is sent as JSON
    success: function(response) {
        console.log("POST Response:", response);         // Handle successful response
        console.log("Created Post ID:", response.id);
    },
    error: function(xhr, status, error) {
        console.error("POST Request Failed:", error);    // Handle error
        console.error("Status:", xhr.status);
    }
});

// POST Request with Form Data
$.ajax({
    type: "POST",
    url: "https://example.com/api/users",
    data: {
        username: "john_doe",
        email: "john@example.com",
        age: 25
    },  // jQuery will automatically serialize this
    success: function(response) {
        console.log("User created:", response);
        // Redirect or update UI
        window.location.href = "/success";
    },
    error: function(xhr, status, error) {
        if (xhr.status === 400) {
            const errors = JSON.parse(xhr.responseText);
            console.error("Validation errors:", errors);
        } else {
            console.error("Error creating user:", error);
        }
    }
});

// POST with File Upload
var formData = new FormData();
formData.append('file', $('#fileInput')[0].files[0]);
formData.append('description', 'File description');

$.ajax({
    type: "POST",
    url: "https://example.com/api/upload",
    data: formData,
    processData: false,  // Important for file upload
    contentType: false,  // Important for file upload
    xhr: function() {
        var xhr = new window.XMLHttpRequest();
        // Upload progress
        xhr.upload.addEventListener("progress", function(evt) {
            if (evt.lengthComputable) {
                var percentComplete = (evt.loaded / evt.total) * 100;
                console.log("Upload Progress: " + percentComplete + "%");
                $('#progressBar').css('width', percentComplete + '%');
            }
        }, false);
        return xhr;
    },
    success: function(response) {
        console.log("File uploaded successfully:", response);
    },
    error: function(xhr, status, error) {
        console.error("Upload failed:", error);
    }
});

// Shorthand POST Method
$.post("https://jsonplaceholder.typicode.com/posts", {
    title: "New Post",
    body: "Post content",
    userId: 1
})
.done(function(response) {
    console.log("Post created:", response);
})
.fail(function(xhr, status, error) {
    console.error("Failed to create post:", error);
});</code></pre>
                </div>

                <div class="method-card put">
                    <h4><i class="fas fa-edit"></i> 3. AJAX PUT Request Example (Update Data)</h4>
                    <pre><code class="language-javascript">// PUT Request to Update Entire Resource
$.ajax({
    type: "PUT",                                          // HTTP method for update
    url: "https://jsonplaceholder.typicode.com/posts/1", // URL with resource ID
    data: JSON.stringify({                               // Complete updated data
        id: 1,
        title: "Updated Title",
        body: "Updated body content",
        userId: 1
    }),
    contentType: "application/json",                     // Send as JSON
    success: function(response) {
        console.log("PUT Response:", response);          // Handle successful update
        console.log("Resource updated successfully");
        // Update UI with new data
        $('#post-title').text(response.title);
        $('#post-body').text(response.body);
    },
    error: function(xhr, status, error) {
        console.error("PUT Request Failed:", error);     // Handle error
        if (xhr.status === 404) {
            console.error("Resource not found");
        } else if (xhr.status === 403) {
            console.error("Permission denied");
        }
    }
});

// PUT Request with Authentication
$.ajax({
    type: "PUT",
    url: "https://api.example.com/users/123",
    headers: {
        "Authorization": "Bearer YOUR_TOKEN_HERE",
        "Content-Type": "application/json"
    },
    data: JSON.stringify({
        name: "John Updated",
        email: "john.updated@example.com",
        role: "admin"
    }),
    success: function(response) {
        console.log("User updated:", response);
        // Show success notification
        showNotification("User updated successfully", "success");
    },
    error: function(xhr, status, error) {
        console.error("Update failed:", error);
        // Show error notification
        showNotification("Failed to update user", "error");
    }
});

// PATCH Request for Partial Update
$.ajax({
    type: "PATCH",                                       // Use PATCH for partial updates
    url: "https://jsonplaceholder.typicode.com/posts/1",
    data: JSON.stringify({
        title: "Only updating the title"                 // Only send fields to update
    }),
    contentType: "application/json",
    success: function(response) {
        console.log("PATCH Response:", response);
        console.log("Partially updated resource");
    },
    error: function(xhr, status, error) {
        console.error("PATCH Request Failed:", error);
    }
});

// Bulk Update with PUT
$.ajax({
    type: "PUT",
    url: "https://api.example.com/users/bulk",
    data: JSON.stringify({
        userIds: [1, 2, 3, 4, 5],
        updates: {
            status: "active",
            lastLogin: new Date().toISOString()
        }
    }),
    contentType: "application/json",
    success: function(response) {
        console.log("Bulk update successful:", response);
        console.log("Updated " + response.count + " users");
    },
    error: function(xhr, status, error) {
        console.error("Bulk update failed:", error);
    }
});</code></pre>
                </div>

                <div class="method-card delete">
                    <h4><i class="fas fa-trash"></i> 4. AJAX DELETE Request Example (Remove Data)</h4>
                    <pre><code class="language-javascript">// DELETE Request to Remove Resource
$.ajax({
    type: "DELETE",                                       // HTTP method for deletion
    url: "https://jsonplaceholder.typicode.com/posts/1", // URL with resource ID
    success: function(response) {
        console.log("DELETE Response:", response);       // Handle successful deletion
        console.log("Resource deleted successfully");
        // Remove element from UI
        $('#post-1').fadeOut(300, function() {
            $(this).remove();
        });
    },
    error: function(xhr, status, error) {
        console.error("DELETE Request Failed:", error);  // Handle error
        if (xhr.status === 404) {
            console.error("Resource not found");
        } else if (xhr.status === 403) {
            console.error("Permission denied to delete");
        }
    }
});

// DELETE with Confirmation
function deletePost(postId) {
    if (confirm("Are you sure you want to delete this post?")) {
        $.ajax({
            type: "DELETE",
            url: "https://jsonplaceholder.typicode.com/posts/" + postId,
            beforeSend: function() {
                // Show loading state
                $('#delete-btn-' + postId).prop('disabled', true).text('Deleting...');
            },
            success: function(response) {
                console.log("Post deleted:", postId);
                // Animate removal
                $('#post-' + postId).slideUp(300, function() {
                    $(this).remove();
                    // Show success message
                    showMessage("Post deleted successfully", "success");
                });
            },
            error: function(xhr, status, error) {
                console.error("Failed to delete post:", error);
                // Re-enable button
                $('#delete-btn-' + postId).prop('disabled', false).text('Delete');
                // Show error message
                showMessage("Failed to delete post", "error");
            }
        });
    }
}

// DELETE with Authentication and Soft Delete
$.ajax({
    type: "DELETE",
    url: "https://api.example.com/users/123",
    headers: {
        "Authorization": "Bearer YOUR_TOKEN_HERE"
    },
    data: JSON.stringify({
        soft_delete: true,  // Soft delete option
        reason: "User requested account deletion"
    }),
    contentType: "application/json",
    success: function(response) {
        console.log("User account deleted:", response);
        // Redirect to goodbye page
        window.location.href = "/goodbye";
    },
    error: function(xhr, status, error) {
        if (xhr.status === 401) {
            console.error("Unauthorized - Please login");
            window.location.href = "/login";
        } else {
            console.error("Deletion failed:", error);
        }
    }
});

// Bulk DELETE
function deleteMultiplePosts(postIds) {
    $.ajax({
        type: "DELETE",
        url: "https://api.example.com/posts/bulk",
        data: JSON.stringify({
            ids: postIds
        }),
        contentType: "application/json",
        success: function(response) {
            console.log("Deleted " + response.deletedCount + " posts");
            // Remove all deleted posts from UI
            postIds.forEach(function(id) {
                $('#post-' + id).fadeOut(300, function() {
                    $(this).remove();
                });
            });
        },
        error: function(xhr, status, error) {
            console.error("Bulk deletion failed:", error);
        }
    });
}</code></pre>
                </div>

                <h3>jQuery AJAX Global Event Handlers</h3>
                <pre><code class="language-javascript">// Global AJAX event handlers - apply to all AJAX requests

// Show loading indicator for all requests
$(document).ajaxStart(function() {
    $('#loading').show();
    console.log("AJAX request started");
});

// Hide loading indicator when all requests complete
$(document).ajaxStop(function() {
    $('#loading').hide();
    console.log("All AJAX requests completed");
});

// Handle any AJAX error globally
$(document).ajaxError(function(event, xhr, settings, error) {
    console.error("Global AJAX Error:", error);
    console.error("Failed URL:", settings.url);
    
    // Show global error message
    if (xhr.status === 401) {
        alert("Session expired. Please login again.");
        window.location.href = "/login";
    } else if (xhr.status === 500) {
        alert("Server error. Please try again later.");
    }
});

// Track all successful AJAX requests
$(document).ajaxSuccess(function(event, xhr, settings) {
    console.log("AJAX Success:", settings.url);
    // Log successful API calls for analytics
});

// Before any AJAX request is sent
$(document).ajaxSend(function(event, xhr, settings) {
    console.log("Sending AJAX request to:", settings.url);
    // Add default headers to all requests
    xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
});

// After any AJAX request completes (success or error)
$(document).ajaxComplete(function(event, xhr, settings) {
    console.log("AJAX request completed:", settings.url);
    // Update request counter or analytics
});</code></pre>

                <h3>jQuery AJAX Setup Defaults</h3>
                <pre><code class="language-javascript">// Set default settings for all AJAX requests
$.ajaxSetup({
    // Default settings
    timeout: 10000,                              // 10 second timeout
    cache: false,                                 // Disable caching
    dataType: 'json',                            // Expect JSON by default
    contentType: 'application/json',             // Send JSON by default
    
    // Default headers
    headers: {
        'X-API-Version': '1.0',
        'Accept': 'application/json'
    },
    
    // Default error handler
    error: function(xhr, status, error) {
        console.error("Default Error Handler:", error);
        // Show user-friendly error message
        const message = xhr.responseJSON?.message || "An error occurred";
        showErrorNotification(message);
    },
    
    // Before send for all requests
    beforeSend: function(xhr, settings) {
        // Add CSRF token to all non-GET requests
        if (settings.type !== 'GET') {
            xhr.setRequestHeader('X-CSRF-Token', getCsrfToken());
        }
        // Show loading indicator
        showLoader();
    },
    
    // Complete for all requests
    complete: function() {
        // Hide loading indicator
        hideLoader();
    }
});

// Note: Use $.ajaxSetup() carefully as it affects ALL AJAX requests</code></pre>

                <h3>jQuery AJAX Promise Interface</h3>
                <pre><code class="language-javascript">// jQuery AJAX returns a Promise-like object (jqXHR)

// Chaining with promises
$.ajax({
    url: "https://jsonplaceholder.typicode.com/users/1"
})
.done(function(user) {
    console.log("User:", user);
    // Chain another request
    return $.ajax({
        url: "https://jsonplaceholder.typicode.com/posts?userId=" + user.id
    });
})
.done(function(posts) {
    console.log("User posts:", posts);
})
.fail(function(xhr, status, error) {
    console.error("Request failed:", error);
})
.always(function() {
    console.log("All requests completed");
});

// Multiple parallel requests with $.when()
$.when(
    $.ajax("https://jsonplaceholder.typicode.com/users/1"),
    $.ajax("https://jsonplaceholder.typicode.com/posts/1"),
    $.ajax("https://jsonplaceholder.typicode.com/comments/1")
)
.done(function(userResponse, postResponse, commentResponse) {
    // All requests succeeded
    const user = userResponse[0];
    const post = postResponse[0];
    const comment = commentResponse[0];
    
    console.log("User:", user);
    console.log("Post:", post);
    console.log("Comment:", comment);
})
.fail(function() {
    // At least one request failed
    console.error("One or more requests failed");
});

// Sequential requests with proper error handling
function fetchUserWithPosts(userId) {
    return $.ajax({
        url: "https://jsonplaceholder.typicode.com/users/" + userId
    })
    .then(function(user) {
        console.log("Fetched user:", user);
        
        // Fetch user's posts
        return $.ajax({
            url: "https://jsonplaceholder.typicode.com/posts",
            data: { userId: user.id }
        })
        .then(function(posts) {
            // Combine user and posts
            return {
                user: user,
                posts: posts
            };
        });
    })
    .fail(function(xhr, status, error) {
        console.error("Failed to fetch user data:", error);
        throw error; // Re-throw to propagate the error
    });
}

// Usage
fetchUserWithPosts(1)
    .done(function(data) {
        console.log("User with posts:", data);
    })
    .fail(function(error) {
        console.error("Error:", error);
    });</code></pre>

                <h3>jQuery AJAX Shorthand Methods</h3>
                <pre><code class="language-javascript">// jQuery provides several shorthand methods for common AJAX operations

// $.get() - Shorthand for GET requests
$.get("https://jsonplaceholder.typicode.com/posts", { userId: 1 })
    .done(function(data) {
        console.log("Posts:", data);
    })
    .fail(function(error) {
        console.error("Error:", error);
    });

// $.post() - Shorthand for POST requests
$.post("https://jsonplaceholder.typicode.com/posts", {
    title: "New Post",
    body: "Content",
    userId: 1
})
.done(function(response) {
    console.log("Created:", response);
});

// $.getJSON() - GET request expecting JSON response
$.getJSON("https://jsonplaceholder.typicode.com/users")
    .done(function(users) {
        users.forEach(function(user) {
            console.log(user.name);
        });
    });

// $.getScript() - Load and execute JavaScript
$.getScript("https://example.com/script.js")
    .done(function() {
        console.log("Script loaded and executed");
    })
    .fail(function() {
        console.error("Failed to load script");
    });

// .load() - Load HTML content into element
$("#content").load("page.html #specific-section", function(response, status, xhr) {
    if (status === "error") {
        console.error("Error loading content:", xhr.status);
    } else {
        console.log("Content loaded successfully");
    }
});

// .serialize() - Serialize form data
const formData = $("#myForm").serialize();
$.post("/submit", formData)
    .done(function(response) {
        console.log("Form submitted:", response);
    });

// .serializeArray() - Serialize form to array
const formArray = $("#myForm").serializeArray();
console.log("Form as array:", formArray);</code></pre>

                <div class="alert success">
                    <strong>Best Practices for jQuery AJAX:</strong>
                    <ul>
                        <li>Always handle both success and error cases</li>
                        <li>Use appropriate HTTP methods (GET for retrieval, POST for creation, PUT for updates, DELETE for removal)</li>
                        <li>Set proper Content-Type headers when sending data</li>
                        <li>Implement proper error handling and user feedback</li>
                        <li>Use loading indicators for better user experience</li>
                        <li>Consider using the Promise interface for better code organization</li>
                        <li>Validate data before sending requests</li>
                        <li>Implement request throttling/debouncing for user-triggered requests</li>
                    </ul>
                </div>

                <h3>Vanilla JavaScript AJAX Utilities</h3>
                <pre><code class="language-javascript">// Custom AJAX library
class Ajax {
    // Generic request method
    static request(options) {
        return new Promise((resolve, reject) => {
            const xhr = new XMLHttpRequest();
            
            xhr.open(
                options.method || 'GET',
                options.url,
                options.async !== false
            );
            
            // Set headers
            if (options.headers) {
                Object.keys(options.headers).forEach(key => {
                    xhr.setRequestHeader(key, options.headers[key]);
                });
            }
            
            // Handle response
            xhr.onload = function() {
                if (xhr.status >= 200 && xhr.status < 300) {
                    let response = xhr.responseText;
                    
                    // Auto-parse JSON
                    if (xhr.getResponseHeader('Content-Type')?.includes('application/json')) {
                        response = JSON.parse(response);
                    }
                    
                    resolve(response);
                } else {
                    reject({
                        status: xhr.status,
                        statusText: xhr.statusText
                    });
                }
            };
            
            xhr.onerror = () => reject(new Error('Network error'));
            
            // Send request
            xhr.send(options.data || null);
        });
    }
    
    // Convenience methods
    static get(url, options = {}) {
        return this.request({ ...options, url, method: 'GET' });
    }
    
    static post(url, data, options = {}) {
        return this.request({ ...options, url, method: 'POST', data });
    }
    
    static put(url, data, options = {}) {
        return this.request({ ...options, url, method: 'PUT', data });
    }
    
    static delete(url, options = {}) {
        return this.request({ ...options, url, method: 'DELETE' });
    }
    
    // Parallel requests
    static all(requests) {
        return Promise.all(requests);
    }
    
    // Race condition
    static race(requests) {
        return Promise.race(requests);
    }
}

// Usage examples
Ajax.get('/api/users')
    .then(users => console.log(users))
    .catch(error => console.error(error));

Ajax.post('/api/users', JSON.stringify({ name: 'John' }), {
    headers: { 'Content-Type': 'application/json' }
})
.then(response => console.log('Created:', response));</code></pre>
            </section>

            <!-- AJAX Effects -->
            <section class="section" id="ajax-effects">
                <h2><i class="fas fa-magic"></i> AJAX Effects & UI Feedback</h2>
                
                <h3>Loading Indicators</h3>
                <pre><code class="language-javascript">// Loading indicator manager
class LoadingIndicator {
    constructor() {
        this.createIndicator();
        this.requestCount = 0;
    }
    
    createIndicator() {
        const html = `
            <div id="ajax-loading" style="
                display: none;
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                z-index: 9999;
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 20px;
                border-radius: 10px;
            ">
                <div class="spinner"></div>
                <div>Loading...</div>
            </div>
        `;
        document.body.insertAdjacentHTML('beforeend', html);
        this.element = document.getElementById('ajax-loading');
    }
    
    show() {
        this.requestCount++;
        this.element.style.display = 'block';
    }
    
    hide() {
        this.requestCount--;
        if (this.requestCount <= 0) {
            this.requestCount = 0;
            this.element.style.display = 'none';
        }
    }
}

// Global loading indicator
const loader = new LoadingIndicator();

// Intercept all AJAX requests
(function() {
    const originalOpen = XMLHttpRequest.prototype.open;
    const originalSend = XMLHttpRequest.prototype.send;
    
    XMLHttpRequest.prototype.open = function() {
        this.addEventListener('loadstart', () => loader.show());
        this.addEventListener('loadend', () => loader.hide());
        originalOpen.apply(this, arguments);
    };
    
    XMLHttpRequest.prototype.send = function() {
        originalSend.apply(this, arguments);
    };
})();</code></pre>

                <h3>Progress Bars</h3>
                <pre><code class="language-javascript">// File upload with progress bar
function uploadFileWithProgress(file, url) {
    const formData = new FormData();
    formData.append('file', file);
    
    const xhr = new XMLHttpRequest();
    
    // Create progress bar
    const progressBar = document.createElement('div');
    progressBar.innerHTML = `
        <div class="upload-progress">
            <div class="progress-bar" style="width: 0%"></div>
            <span class="progress-text">0%</span>
        </div>
    `;
    document.body.appendChild(progressBar);
    
    // Track upload progress
    xhr.upload.addEventListener('progress', (e) => {
        if (e.lengthComputable) {
            const percentComplete = (e.loaded / e.total) * 100;
            progressBar.querySelector('.progress-bar').style.width = percentComplete + '%';
            progressBar.querySelector('.progress-text').textContent = Math.round(percentComplete) + '%';
        }
    });
    
    xhr.addEventListener('load', () => {
        if (xhr.status === 200) {
            progressBar.innerHTML = '<div class="success">Upload complete!</div>';
            setTimeout(() => progressBar.remove(), 3000);
        }
    });
    
    xhr.addEventListener('error', () => {
        progressBar.innerHTML = '<div class="error">Upload failed!</div>';
    });
    
    xhr.open('POST', url);
    xhr.send(formData);
}</code></pre>

                <h3>Smooth Transitions</h3>
                <pre><code class="language-javascript">// Smooth content replacement
async function replaceContentSmooth(elementId, url) {
    const element = document.getElementById(elementId);
    
    // Fade out
    element.style.transition = 'opacity 0.3s';
    element.style.opacity = '0';
    
    await new Promise(resolve => setTimeout(resolve, 300));
    
    // Load new content
    try {
        const response = await fetch(url);
        const html = await response.text();
        
        element.innerHTML = html;
        
        // Fade in
        element.style.opacity = '1';
    } catch (error) {
        element.innerHTML = '<div class="error">Failed to load content</div>';
        element.style.opacity = '1';
    }
}</code></pre>
            </section>

            <!-- Error Handling -->
            <section class="section" id="error-handling">
                <h2><i class="fas fa-exclamation-triangle"></i> Error Handling</h2>
                
                <h3>Comprehensive Error Handling</h3>
                <pre><code class="language-javascript">// Error handler class
class AjaxErrorHandler {
    constructor() {
        this.errorHandlers = {
            400: this.handleBadRequest,
            401: this.handleUnauthorized,
            403: this.handleForbidden,
            404: this.handleNotFound,
            500: this.handleServerError,
            503: this.handleServiceUnavailable
        };
    }
    
    handle(error, xhr) {
        const status = xhr?.status || error.status;
        const handler = this.errorHandlers[status] || this.handleGenericError;
        
        handler.call(this, error, xhr);
        this.logError(error, xhr);
    }
    
    handleBadRequest(error, xhr) {
        this.showNotification('Invalid request. Please check your input.', 'error');
    }
    
    handleUnauthorized(error, xhr) {
        this.showNotification('Please login to continue.', 'warning');
        // Redirect to login
        window.location.href = '/login';
    }
    
    handleForbidden(error, xhr) {
        this.showNotification('You don\'t have permission to access this resource.', 'error');
    }
    
    handleNotFound(error, xhr) {
        this.showNotification('The requested resource was not found.', 'error');
    }
    
    handleServerError(error, xhr) {
        this.showNotification('Server error. Please try again later.', 'error');
    }
    
    handleServiceUnavailable(error, xhr) {
        this.showNotification('Service temporarily unavailable. Please try again later.', 'warning');
    }
    
    handleGenericError(error, xhr) {
        this.showNotification('An error occurred. Please try again.', 'error');
    }
    
    handleNetworkError() {
        this.showNotification('Network error. Please check your connection.', 'error');
    }
    
    handleTimeout() {
        this.showNotification('Request timeout. Please try again.', 'warning');
    }
    
    showNotification(message, type) {
        // Implementation of notification display
        console.error(`[${type.toUpperCase()}]`, message);
    }
    
    logError(error, xhr) {
        // Send error to logging service
        const errorData = {
            message: error.message || 'Unknown error',
            status: xhr?.status,
            url: xhr?.responseURL,
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent
        };
        
        // Send to logging endpoint
        fetch('/api/logs/error', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(errorData)
        }).catch(() => {
            // Silently fail if logging fails
        });
    }
}

// Global error handler
const errorHandler = new AjaxErrorHandler();

// Retry mechanism
async function fetchWithRetry(url, options = {}, maxRetries = 3) {
    let lastError;
    
    for (let i = 0; i < maxRetries; i++) {
        try {
            const response = await fetch(url, options);
            
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}`);
            }
            
            return response;
        } catch (error) {
            lastError = error;
            
            // Wait before retry (exponential backoff)
            if (i < maxRetries - 1) {
                await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
            }
        }
    }
    
    throw lastError;
}</code></pre>
            </section>

            <!-- Best Practices -->
            <section class="section" id="best-practices">
                <h2><i class="fas fa-star"></i> Best Practices</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><i class="fas fa-shield-alt"></i> Security</h4>
                        <ul>
                            <li>Always validate input on server-side</li>
                            <li>Use HTTPS for sensitive data</li>
                            <li>Implement CSRF protection</li>
                            <li>Sanitize data before displaying</li>
                            <li>Use Content Security Policy headers</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-tachometer-alt"></i> Performance</h4>
                        <ul>
                            <li>Implement request caching</li>
                            <li>Use request debouncing/throttling</li>
                            <li>Minimize payload size</li>
                            <li>Use compression (gzip/brotli)</li>
                            <li>Implement lazy loading</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-code"></i> Code Quality</h4>
                        <ul>
                            <li>Use async/await for cleaner code</li>
                            <li>Implement proper error handling</li>
                            <li>Create reusable AJAX functions</li>
                            <li>Use constants for API endpoints</li>
                            <li>Document your API calls</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-users"></i> User Experience</h4>
                        <ul>
                            <li>Show loading indicators</li>
                            <li>Provide error feedback</li>
                            <li>Implement optimistic updates</li>
                            <li>Handle offline scenarios</li>
                            <li>Use progressive enhancement</li>
                        </ul>
                    </div>
                </div>

                <h3>Request Optimization</h3>
                <pre><code class="language-javascript">// Request debouncing
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Request throttling
function throttle(func, limit) {
    let inThrottle;
    return function(...args) {
        if (!inThrottle) {
            func.apply(this, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
        }
    };
}

// Request caching
class RequestCache {
    constructor(ttl = 60000) { // Default 1 minute
        this.cache = new Map();
        this.ttl = ttl;
    }
    
    async fetch(url, options = {}) {
        const key = `${url}${JSON.stringify(options)}`;
        const cached = this.cache.get(key);
        
        if (cached && Date.now() - cached.timestamp < this.ttl) {
            return cached.data;
        }
        
        const response = await fetch(url, options);
        const data = await response.json();
        
        this.cache.set(key, {
            data,
            timestamp: Date.now()
        });
        
        return data;
    }
    
    clear() {
        this.cache.clear();
    }
}</code></pre>
            </section>

            <!-- Plugins & Libraries -->
            <section class="section" id="plugins">
                <h2><i class="fas fa-plug"></i> AJAX Plugins & Libraries</h2>
                
                <h3>Popular AJAX Libraries</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Library</th>
                            <th>Size</th>
                            <th>Features</th>
                            <th>Installation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Axios</strong></td>
                            <td>~14KB</td>
                            <td>Promise-based, interceptors, request/response transformation</td>
                            <td><code>npm install axios</code></td>
                        </tr>
                        <tr>
                            <td><strong>Fetch API</strong></td>
                            <td>Native</td>
                            <td>Built-in, Promise-based, streams support</td>
                            <td>No installation needed</td>
                        </tr>
                        <tr>
                            <td><strong>jQuery AJAX</strong></td>
                            <td>~87KB</td>
                            <td>Cross-browser, extensive features, part of jQuery</td>
                            <td><code>npm install jquery</code></td>
                        </tr>
                        <tr>
                            <td><strong>SuperAgent</strong></td>
                            <td>~25KB</td>
                            <td>Fluent API, Node.js support, plugins</td>
                            <td><code>npm install superagent</code></td>
                        </tr>
                        <tr>
                            <td><strong>Ky</strong></td>
                            <td>~9KB</td>
                            <td>Tiny, modern, based on Fetch</td>
                            <td><code>npm install ky</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Axios Example</h3>
                <pre><code class="language-javascript">// Axios configuration
import axios from 'axios';

// Create instance with default config
const api = axios.create({
    baseURL: 'https://api.example.com',
    timeout: 10000,
    headers: {
        'Content-Type': 'application/json'
    }
});

// Request interceptor
api.interceptors.request.use(
    config => {
        const token = localStorage.getItem('token');
        if (token) {
            config.headers.Authorization = `Bearer ${token}`;
        }
        return config;
    },
    error => Promise.reject(error)
);

// Response interceptor
api.interceptors.response.use(
    response => response,
    error => {
        if (error.response?.status === 401) {
            // Handle unauthorized
            window.location.href = '/login';
        }
        return Promise.reject(error);
    }
);

// Usage
api.get('/users')
    .then(response => console.log(response.data))
    .catch(error => console.error(error));</code></pre>

                <h3>Useful AJAX Plugins</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><i class="fas fa-sync"></i> SWR</h4>
                        <p>Data fetching with caching, revalidation, and more</p>
                        <pre><code>npm install swr</code></pre>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-database"></i> React Query</h4>
                        <p>Powerful data synchronization for React</p>
                        <pre><code>npm install react-query</code></pre>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-network-wired"></i> Socket.io</h4>
                        <p>Real-time bidirectional event-based communication</p>
                        <pre><code>npm install socket.io-client</code></pre>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-file-upload"></i> Dropzone.js</h4>
                        <p>Drag'n'drop file uploads with previews</p>
                        <pre><code>npm install dropzone</code></pre>
                    </div>
                </div>
            </section>

            <!-- AJAX Validation -->
            <section class="section" id="validation">
                <h2><i class="fas fa-check-circle"></i> AJAX Form Validation</h2>
                
                <h3>Real-time Validation Plugin</h3>
                <pre><code class="language-javascript">// Complete AJAX validation plugin
class AjaxValidator {
    constructor(form, rules) {
        this.form = form;
        this.rules = rules;
        this.errors = {};
        this.init();
    }
    
    init() {
        // Attach event listeners
        this.form.addEventListener('submit', (e) => this.handleSubmit(e));
        
        // Real-time validation
        Object.keys(this.rules).forEach(fieldName => {
            const field = this.form.querySelector(`[name="${fieldName}"]`);
            if (field) {
                field.addEventListener('blur', () => this.validateField(fieldName));
                field.addEventListener('input', debounce(() => this.validateField(fieldName), 500));
            }
        });
    }
    
    async validateField(fieldName) {
        const field = this.form.querySelector(`[name="${fieldName}"]`);
        const value = field.value;
        const rules = this.rules[fieldName];
        
        // Clear previous error
        this.clearError(fieldName);
        
        for (let rule of rules) {
            const error = await this.checkRule(rule, value, fieldName);
            if (error) {
                this.showError(fieldName, error);
                return false;
            }
        }
        
        this.showSuccess(fieldName);
        return true;
    }
    
    async checkRule(rule, value, fieldName) {
        // Required
        if (rule.required && !value) {
            return rule.message || 'This field is required';
        }
        
        // Min length
        if (rule.minLength && value.length < rule.minLength) {
            return rule.message || `Minimum ${rule.minLength} characters required`;
        }
        
        // Max length
        if (rule.maxLength && value.length > rule.maxLength) {
            return rule.message || `Maximum ${rule.maxLength} characters allowed`;
        }
        
        // Pattern
        if (rule.pattern && !rule.pattern.test(value)) {
            return rule.message || 'Invalid format';
        }
        
        // Email
        if (rule.email && !this.isValidEmail(value)) {
            return rule.message || 'Invalid email address';
        }
        
        // Custom async validation (e.g., check username availability)
        if (rule.async) {
            try {
                const result = await rule.async(value);
                if (!result.valid) {
                    return result.message || 'Validation failed';
                }
            } catch (error) {
                return 'Validation error';
            }
        }
        
        // Custom validation function
        if (rule.custom) {
            const result = rule.custom(value, this.form);
            if (result !== true) {
                return result;
            }
        }
        
        return null;
    }
    
    isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
    
    showError(fieldName, message) {
        const field = this.form.querySelector(`[name="${fieldName}"]`);
        const errorElement = this.getOrCreateErrorElement(field);
        
        field.classList.add('error');
        field.classList.remove('success');
        errorElement.textContent = message;
        errorElement.style.display = 'block';
        
        this.errors[fieldName] = message;
    }
    
    showSuccess(fieldName) {
        const field = this.form.querySelector(`[name="${fieldName}"]`);
        const errorElement = this.getOrCreateErrorElement(field);
        
        field.classList.remove('error');
        field.classList.add('success');
        errorElement.style.display = 'none';
        
        delete this.errors[fieldName];
    }
    
    clearError(fieldName) {
        const field = this.form.querySelector(`[name="${fieldName}"]`);
        const errorElement = this.getOrCreateErrorElement(field);
        
        field.classList.remove('error', 'success');
        errorElement.style.display = 'none';
        
        delete this.errors[fieldName];
    }
    
    getOrCreateErrorElement(field) {
        let errorElement = field.parentElement.querySelector('.error-message');
        
        if (!errorElement) {
            errorElement = document.createElement('div');
            errorElement.className = 'error-message';
            errorElement.style.color = 'red';
            errorElement.style.fontSize = '0.9em';
            errorElement.style.marginTop = '5px';
            field.parentElement.appendChild(errorElement);
        }
        
        return errorElement;
    }
    
    async handleSubmit(e) {
        e.preventDefault();
        
        // Validate all fields
        const validations = Object.keys(this.rules).map(fieldName => 
            this.validateField(fieldName)
        );
        
        const results = await Promise.all(validations);
        
        if (results.every(result => result === true)) {
            // All valid, submit form
            this.submitForm();
        } else {
            console.log('Form has errors:', this.errors);
        }
    }
    
    async submitForm() {
        const formData = new FormData(this.form);
        
        try {
            const response = await fetch(this.form.action, {
                method: this.form.method || 'POST',
                body: formData
            });
            
            if (response.ok) {
                const result = await response.json();
                console.log('Form submitted successfully:', result);
                this.form.reset();
            } else {
                console.error('Form submission failed');
            }
        } catch (error) {
            console.error('Error submitting form:', error);
        }
    }
}

// Usage example
const form = document.getElementById('registrationForm');
const validator = new AjaxValidator(form, {
    username: [
        { required: true, message: 'Username is required' },
        { minLength: 3, message: 'Username must be at least 3 characters' },
        {
            async: async (value) => {
                const response = await fetch(`/api/check-username?username=${value}`);
                const data = await response.json();
                return {
                    valid: data.available,
                    message: 'Username already taken'
                };
            }
        }
    ],
    email: [
        { required: true },
        { email: true },
        {
            async: async (value) => {
                const response = await fetch(`/api/check-email?email=${value}`);
                const data = await response.json();
                return {
                    valid: data.available,
                    message: 'Email already registered'
                };
            }
        }
    ],
    password: [
        { required: true },
        { minLength: 8, message: 'Password must be at least 8 characters' },
        {
            pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,
            message: 'Password must contain uppercase, lowercase, and number'
        }
    ],
    confirmPassword: [
        { required: true },
        {
            custom: (value, form) => {
                const password = form.querySelector('[name="password"]').value;
                return value === password || 'Passwords do not match';
            }
        }
    ]
});</code></pre>
            </section>

            <!-- Use Cases -->
            <section class="section" id="use-cases">
                <h2><i class="fas fa-lightbulb"></i> Real-World Use Cases</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><i class="fas fa-search"></i> Autocomplete Search</h4>
                        <pre><code class="language-javascript">// Live search with debouncing
const searchInput = document.getElementById('search');
const searchResults = document.getElementById('results');

const search = debounce(async (query) => {
    if (query.length < 2) {
        searchResults.innerHTML = '';
        return;
    }
    
    const response = await fetch(`/api/search?q=${query}`);
    const results = await response.json();
    
    searchResults.innerHTML = results.map(item => 
        `<div class="result-item">${item.title}</div>`
    ).join('');
}, 300);

searchInput.addEventListener('input', (e) => search(e.target.value));</code></pre>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-heart"></i> Like Button</h4>
                        <pre><code class="language-javascript">// Optimistic UI update
async function toggleLike(postId, button) {
    const isLiked = button.classList.contains('liked');
    
    // Optimistic update
    button.classList.toggle('liked');
    const count = button.querySelector('.count');
    count.textContent = parseInt(count.textContent) + (isLiked ? -1 : 1);
    
    try {
        await fetch(`/api/posts/${postId}/like`, {
            method: isLiked ? 'DELETE' : 'POST'
        });
    } catch (error) {
        // Revert on error
        button.classList.toggle('liked');
        count.textContent = parseInt(count.textContent) + (isLiked ? 1 : -1);
    }
}</code></pre>
                    </div>
                    
                    <div class="feature-card">
                        <h4><i class="fas fa-comments"></i> Real-time Chat</h4>
                        <pre><code class="language-javascript">// Polling for new messages
let lastMessageId = 0;

async function pollMessages() {
    try {
        const response = await fetch(`/api/messages?since=${lastMessageId}`);
        const messages = await response.json();
        
        if (messages.length > 0) {
            displayMessages(messages);
            lastMessageId = messages[messages.length - 1].id;
        }
    } catch (error) {
        console.error('Poll error:', error);
    }
    
    // Poll every 2 seconds
    setTimeout(pollMessages, 2000);
}

pollMessages();</code></pre>
                    </div>
                </div>
            </section>

            <!-- Live Examples -->
            <section class="section" id="examples">
                <h2><i class="fas fa-flask"></i> Live Interactive Examples</h2>
                
                <div class="demo-container">
                    <h3>Live User Search</h3>
                    <input type="text" id="user-search" placeholder="Search users..." style="width: 100%; padding: 10px; margin: 10px 0;">
                    <div id="user-results" class="demo-result">Start typing to search...</div>
                </div>

                <div class="demo-container">
                    <h3>File Upload with Progress</h3>
                    <input type="file" id="file-input" style="margin: 10px 0;">
                    <button class="demo-button" onclick="uploadFile()">Upload File</button>
                    <div id="upload-progress" style="margin: 10px 0;"></div>
                    <div id="upload-result" class="demo-result">Select a file and click upload...</div>
                </div>

                <div class="alert success">
                    <strong>🎉 Congratulations!</strong> You've completed the comprehensive AJAX guide. You now have the knowledge to build dynamic, responsive web applications using AJAX technologies!
                </div>
            </section>

        </main>
    </div>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // Utility functions
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Sidebar Toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            sidebar.classList.toggle('active');
            mainContent.classList.toggle('shifted');
        }

        function closeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            sidebar.classList.remove('active');
            mainContent.classList.remove('shifted');
        }

        // Progress Bar
        function updateProgressBar() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.querySelector('.progress-bar').style.width = scrolled + '%';
        }

        // Back to Top
        function scrollToTop() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

        function toggleBackToTop() {
            const backToTop = document.getElementById('backToTop');
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        }

        // Active Navigation
        function updateActiveNav() {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.sidebar a');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        }

        // Search Functionality
        function searchContent(query) {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.sidebar a');
            
            if (!query) {
                sections.forEach(section => section.style.display = 'block');
                navLinks.forEach(link => link.style.display = 'block');
                return;
            }

            const searchTerm = query.toLowerCase();
            
            sections.forEach(section => {
                const content = section.textContent.toLowerCase();
                if (content.includes(searchTerm)) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });

            navLinks.forEach(link => {
                const text = link.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    link.style.display = 'block';
                } else {
                    link.style.display = 'none';
                }
            });
        }

        // Demo Functions
        function demoGetRequest() {
            const resultDiv = document.getElementById('get-result');
            resultDiv.innerHTML = 'Loading...';
            
            fetch('https://jsonplaceholder.typicode.com/users/1')
                .then(response => response.json())
                .then(data => {
                    resultDiv.innerHTML = JSON.stringify(data, null, 2);
                })
                .catch(error => {
                    resultDiv.innerHTML = 'Error: ' + error.message;
                });
        }

        function demoPostRequest() {
            const title = document.getElementById('post-title').value;
            const body = document.getElementById('post-body').value;
            const resultDiv = document.getElementById('post-result');
            
            if (!title || !body) {
                resultDiv.innerHTML = 'Please enter both title and body';
                return;
            }
            
            resultDiv.innerHTML = 'Creating post...';
            
            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    title: title,
                    body: body,
                    userId: 1
                })
            })
            .then(response => response.json())
            .then(data => {
                resultDiv.innerHTML = 'Post created!\n' + JSON.stringify(data, null, 2);
            })
            .catch(error => {
                resultDiv.innerHTML = 'Error: ' + error.message;
            });
        }

        function clearDemo(elementId) {
            document.getElementById(elementId).innerHTML = 'Cleared. Try again!';
        }

        // Live User Search Demo
        const userSearchInput = document.getElementById('user-search');
        const userResultsDiv = document.getElementById('user-results');

        const searchUsers = debounce(async (query) => {
            if (query.length < 2) {
                userResultsDiv.innerHTML = 'Type at least 2 characters...';
                return;
            }
            
            userResultsDiv.innerHTML = 'Searching...';
            
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users');
                const users = await response.json();
                
                const filtered = users.filter(user => 
                    user.name.toLowerCase().includes(query.toLowerCase()) ||
                    user.email.toLowerCase().includes(query.toLowerCase())
                );
                
                if (filtered.length === 0) {
                    userResultsDiv.innerHTML = 'No users found';
                } else {
                    userResultsDiv.innerHTML = filtered.map(user => 
                        `<div style="padding: 5px; border-bottom: 1px solid #eee;">
                            <strong>${user.name}</strong> - ${user.email}
                        </div>`
                    ).join('');
                }
            } catch (error) {
                userResultsDiv.innerHTML = 'Error searching users';
            }
        }, 500);

        if (userSearchInput) {
            userSearchInput.addEventListener('input', (e) => searchUsers(e.target.value));
        }

        // File Upload Demo
        function uploadFile() {
            const fileInput = document.getElementById('file-input');
            const progressDiv = document.getElementById('upload-progress');
            const resultDiv = document.getElementById('upload-result');
            
            if (!fileInput.files[0]) {
                resultDiv.innerHTML = 'Please select a file first';
                return;
            }
            
            // Simulate file upload with progress
            let progress = 0;
            progressDiv.innerHTML = `
                <div style="width: 100%; background: #eee; border-radius: 5px; overflow: hidden;">
                    <div id="progress-bar" style="width: 0%; background: #ff6b6b; height: 20px; transition: width 0.3s;"></div>
                </div>
                <div id="progress-text" style="text-align: center; margin-top: 5px;">0%</div>
            `;
            
            const interval = setInterval(() => {
                progress += 10;
                document.getElementById('progress-bar').style.width = progress + '%';
                document.getElementById('progress-text').textContent = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    resultDiv.innerHTML = `File "${fileInput.files[0].name}" uploaded successfully!`;
                    setTimeout(() => {
                        progressDiv.innerHTML = '';
                    }, 2000);
                }
            }, 200);
        }

        // Smooth Scrolling for Navigation Links
        document.querySelectorAll('.sidebar a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Event Listeners
        window.addEventListener('scroll', () => {
            updateProgressBar();
            toggleBackToTop();
            updateActiveNav();
        });

        // Click outside sidebar to close
        document.addEventListener('click', (e) => {
            const sidebar = document.getElementById('sidebar');
            const navToggle = document.querySelector('.nav-toggle');
            
            if (sidebar && navToggle && !sidebar.contains(e.target) && !navToggle.contains(e.target)) {
                closeSidebar();
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateProgressBar();
            updateActiveNav();
            
            // Add copy buttons to code blocks
            const codeBlocks = document.querySelectorAll('pre code');
            codeBlocks.forEach((block) => {
                const button = document.createElement('button');
                button.className = 'copy-btn';
                button.innerHTML = '<i class="fas fa-copy"></i>';
                button.title = 'Copy code';
                
                button.addEventListener('click', () => {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        button.innerHTML = '<i class="fas fa-check"></i>';
                        setTimeout(() => {
                            button.innerHTML = '<i class="fas fa-copy"></i>';
                        }, 2000);
                    });
                });
                
                block.parentNode.style.position = 'relative';
                block.parentNode.appendChild(button);
            });
        });
    </script>
</body>
</html>